#!/bin/bash

echo "ğŸš€ Setting up Lisa Enhanced Features..."
echo ""

# Install backend dependencies
echo "ğŸ“¦ Installing backend dependencies..."
cd server/chatbot-backend
npm install express-rate-limit nodemailer

# Install frontend dependencies (if any new ones are needed)
echo "ğŸ“¦ Checking frontend dependencies..."
cd ../../client/chatbot-frontend-2
npm install

echo ""
echo "âœ… Enhanced Features Setup Complete!"
echo ""
echo "ğŸ‰ New Features Added:"
echo "  âœ… Dedicated Authentication Page"
echo "  âœ… Password Reset Functionality"
echo "  âœ… Email Service for Password Resets"
echo "  âœ… Rate Limiting for Security"
echo "  âœ… Protected Routes"
echo "  âœ… Enhanced User Experience"
echo "  âœ… Better Error Handling"
echo "  âœ… Mobile-Responsive Design"
echo ""
echo "ğŸ”§ Configuration Notes:"
echo "  â€¢ Password reset emails are logged to console in development"
echo "  â€¢ Rate limiting is active (5 auth attempts per 15 minutes)"
echo "  â€¢ Protected routes redirect to auth page"
echo "  â€¢ Reset tokens expire after 1 hour"
echo ""
echo "ğŸ“ Environment Variables (optional for production):"
echo "  â€¢ SMTP_HOST - Email server host"
echo "  â€¢ SMTP_PORT - Email server port"
echo "  â€¢ SMTP_USER - Email username"
echo "  â€¢ SMTP_PASS - Email password"
echo "  â€¢ FROM_EMAIL - Sender email address"
echo "  â€¢ FRONTEND_URL - Frontend URL for email links"
echo ""
echo "ğŸ¯ Routes Added:"
echo "  â€¢ /auth - Dedicated authentication page"
echo "  â€¢ /reset-password - Password reset page"
echo ""
echo "ğŸ”’ Security Enhancements:"
echo "  â€¢ Rate limiting on all auth endpoints"
echo "  â€¢ Password reset token expiration"
echo "  â€¢ Secure password validation"
echo "  â€¢ Protected user profile access"
echo ""
echo "ğŸ“± UI/UX Improvements:"
echo "  â€¢ Modern gradient design"
echo "  â€¢ Password visibility toggles"
echo "  â€¢ Loading states and spinners"
echo "  â€¢ Comprehensive error handling"
echo "  â€¢ Mobile-first responsive design"
echo ""
echo "ğŸš€ Ready to launch! Start the application with:"
echo "  Backend:  cd server/chatbot-backend && npm start"
echo "  Frontend: cd client/chatbot-frontend-2 && npm start"
echo "" 